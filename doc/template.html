

<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <title>模版 — PHPEGG</title>
    <meta charset="utf-8">
    <meta name="description" content="Vue.js - The Progressive JavaScript Framework">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <!-- <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'> -->
    <!-- <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'> -->

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>
    <script>window.PAGE_TYPE = "doc"</script>

  </head>
  <body class="docs">    <div id="mobile-bar" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    <div id="header">
  <a id="logo" href="/">
    <span>PHPEGG</span>
  </a>
  <ul id="nav">
    

<li><a href="https://github.com/qiu-jin/phpegg" target="_blank" class="nav-link contribute">Github</a></li>

  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
        
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      

<li><a href="https://github.com/qiu-jin/phpegg" target="_blank" class="nav-link contribute">Github</a></li>

    </ul>
    <div class="list">
        <ul class="menu-root">
          
            
            
              
                <li><h3>开始</h3></li>
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/index.html" class="sidebar-link">介绍</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/installation.html" class="sidebar-link">安装</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/structure.html" class="sidebar-link">目录结构</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/quickstart.html" class="sidebar-link">开始应用</a>
              </li>
            
           
          
            
            
              
              
                <li><h3>应用</h3></li>
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/app.html" class="sidebar-link">综述</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/app-standard.html" class="sidebar-link">标准</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/app-rest.html" class="sidebar-link">Rest</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/app-micro.html" class="sidebar-link">微应用</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/app-inline.html" class="sidebar-link">inline</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/app-jsonrpc.html" class="sidebar-link">Jsonrpc</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/app-grpc.html" class="sidebar-link">Grpc</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/app-custom.html" class="sidebar-link">自定义</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="#" class="sidebar-link">无模式（暂空）</a>
              </li>
            
           
          
            
            
              
              
              
                <li><h3>核心</h3></li>
              
              
              
              
              
            
            
              <li>
                <a href="/doc/config.html" class="sidebar-link">配置</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/loader.html" class="sidebar-link">类加载</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="#" class="sidebar-link">容器（暂空）</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/hook.html" class="sidebar-link">事件</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="#" class="sidebar-link">验证器（暂空）</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/router.html" class="sidebar-link">路由</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/error.html" class="sidebar-link">错误处理</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/logger.html" class="sidebar-link">日志</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/view.html" class="sidebar-link">视图</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/template.html" class="sidebar-link current">模版</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/function.html" class="sidebar-link">辅助函数</a>
              </li>
            
           
          
            
            
              
              
              
              
                <li><h3>HTTP层</h3></li>
              
              
              
              
            
            
              <li>
                <a href="/doc/http-request.html" class="sidebar-link">请求</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/http-response.html" class="sidebar-link">响应</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/http-client.html" class="sidebar-link">Client</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/http-cookie-session.html" class="sidebar-link">Cookie & Session</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/http-more.html" class="sidebar-link">更多</a>
              </li>
            
           
          
            
            
              
              
              
              
              
                <li><h3>数据库</h3></li>
              
              
              
            
            
              <li>
                <a href="/doc/db.html" class="sidebar-link">基本使用</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/db-query.html" class="sidebar-link">数据操作</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/db-join-query.html" class="sidebar-link">连表查询</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/db-sample.html" class="sidebar-link">示例表</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
                <li><h3>驱动</h3></li>
              
              
            
            
              <li>
                <a href="/doc/driver-cache.html" class="sidebar-link">缓存</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/driver-storage.html" class="sidebar-link">存储</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/driver-rpc.html" class="sidebar-link">RPC</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/driver-email.html" class="sidebar-link">邮件</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/driver-sms.html" class="sidebar-link">短信</a>
              </li>
            
           
          
            
            
              
              
              
              
              
              
              
            
            
              <li>
                <a href="/doc/driver-more.html" class="sidebar-link">更多驱动</a>
              </li>
            
           
          
        </ul>
    </div>
  </div>
</div>


<div class="content doc with-sidebar template-doc">

  
    <h1>模版</h1>
  
  <h2 id="变量输出"><a href="#变量输出" class="headerlink" title="变量输出"></a>变量输出</h2><p>输出变量：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;p&gt;&#123;&#123;name&#125;&#125;&lt;/p&gt;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;p&gt;&lt;?php echo htmlentities($name);?&gt;&lt;/p&gt;</div></pre></td></tr></table></figure>
<p>其左右定界符号可以通过配置项<code>text_border_sign</code>自定义插值边界符。</p>
<h3 id="转义"><a href="#转义" class="headerlink" title="转义"></a>转义</h3><p>模版引擎默认开启自动转义，输出的内容使用<code>htmlentities</code>函数处理，这样可以有效的防止<code>xss</code>攻击。</p>
<p>不过在有些使用场景下（如<code>CMS</code>类应用，内容通常是第一方生产的）并不需要转义，这种情况下可以通过设置配置<code>&#39;auto_escape_text&#39; =&gt; false</code>来关闭自动转义。</p>
<p>除了设置自动转义外，用户也可以手动强制输出转义或不转义。</p>
<p>在右定界符后使用<code>:</code>符号强制输出转义</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;:name&#125;&#125;</div></pre></td></tr></table></figure>
<p>在右定界符后使用<code>!</code>符号强制输出不转义</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;!name&#125;&#125;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php echo $name;?&gt;</div></pre></td></tr></table></figure>
<p class="tip">为了简化示例，后面的示例设为默认不转义，省略<code>htmlentities</code>的使用。</p>

<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>使用<code>.</code>符号</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;user.name&#125;&#125;</div></pre></td></tr></table></figure>
<p>另一种数组写法，使用<code>[]</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;user[&apos;name&apos;]&#125;&#125;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php echo $user[&apos;name&apos;];?&gt;</div></pre></td></tr></table></figure>
<h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><p>调用对象方法或属性使用<code>-&gt;</code>符号</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;user-&gt;name&#125;&#125;</div><div class="line">&#123;&#123;user-&gt;name()&#125;&#125;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php echo $user-&gt;name;?&gt;</div><div class="line">&lt;?php echo $user-&gt;name();?&gt;</div></pre></td></tr></table></figure>
<h3 id="不输出"><a href="#不输出" class="headerlink" title="不输出"></a>不输出</h3><p>在右定界符后使用<code>＃</code>符号表示不调用<code>echo</code>输出内容，通常可以使用这种方法做赋值操作</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;#name = &apos;your name&apos;&#125;&#125;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php $name = &apos;your name&apos;;?&gt;</div></pre></td></tr></table></figure>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>在右定界符前使用<code>#</code>符号可注释内容，被注释内容编译后会被去掉</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">#&#123;&#123;注释内容&#125;&#125;</div></pre></td></tr></table></figure>
<h3 id="原样输出"><a href="#原样输出" class="headerlink" title="原样输出"></a>原样输出</h3><p>在右定界符前使用<code>!</code>符号可原样输出内容，不解析编译原样输出模版内容</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">!&#123;&#123;原样输出&#125;&#125;</div></pre></td></tr></table></figure>
<h2 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h2><p>模版有大量内置过滤器，用户也可以自定义过滤器来处理输出。</p>
<p>在模版使用过滤器可用<code>.</code>连接过滤器名调用过滤器</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;name.trim()&#125;&#125;</div></pre></td></tr></table></figure>
<p>另外也可以使用下面写法调用过滤器</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;trim(name)&#125;&#125;</div></pre></td></tr></table></figure>
<p>第一种写法相当于<code>.</code>前面内容作为过滤器第一个参数，语法更符合人的阅读习惯。</p>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php echo trim($name);?&gt;</div></pre></td></tr></table></figure>
<h3 id="内置过滤器"><a href="#内置过滤器" class="headerlink" title="内置过滤器"></a>内置过滤器</h3><p>模版内置过滤器主要是用来处理字符串。</p>
<p>这些内置过滤器通常编译后会被替换成PHP函数。</p>
<p>如内置字符串分割过滤器<code>split</code>定义如下例，使用PHP函数<code>explode</code>实现，并且其使用<code>$</code>加数字调整参数位置。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&apos;split&apos; =&gt; &apos;explode($1, $0)&apos;,</div></pre></td></tr></table></figure>
<p>调用示例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;a.split(b)&#125;&#125;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php echo split($b, $a);?&gt;</div></pre></td></tr></table></figure>
<p>另外如果有多个可选参数时，可以用<code>...</code>符号省略，如：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&apos;format&apos; =&gt; &apos;sprintf($0, $1, ...)&apos;,</div></pre></td></tr></table></figure>
<p>调用示例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;&apos;%s, %s, %s&apos;.format(a, b, c)&#125;&#125;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php echo sprintf(&apos;%s, %s, %s&apos;, $a, $b, $c);?&gt;</div></pre></td></tr></table></figure>
<p>用户也可以通过配置<code>filters</code>增加或替换内置过滤器，如下例增加了一个字符串反转过滤器<code>strrev</code>和数组差集过滤器<code>diff</code>。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&apos;filters&apos; =&gt; [</div><div class="line">	// 反转字符串</div><div class="line">	&apos;strrev&apos; =&gt; &apos;strrev($0)&apos;,</div><div class="line">	// 计算数组的差集</div><div class="line">	&apos;diff&apos;   =&gt; &apos;array_diff($0, $1)&apos;,</div><div class="line">],</div></pre></td></tr></table></figure>
<blockquote>
<p>有些PHP开发者会有疑问：既然内置过滤器基本都是原生PHP函数的马甲为什么不直接用原生PHP函数。</p>
<p>用模版过滤器有3点优势：</p>
<ul>
<li>安全：只允许使用过滤器，可以防止不熟悉PHP的设计人员使用有些危险的PHP函数如<code>eavl</code>等。</li>
<li>易用：内置过滤器借鉴了javascript语法及其流行框架和其它语言的流行模版引擎，使其更适合设计人员使用，另外由于历史原因，一些原生PHP函数的命名和参数顺序也有些混乱，使用内置过滤器可以调整这些问题。</li>
<li>易读：过滤器使用链式调用语法，阅读起来更加自然顺畅。</li>
</ul>
</blockquote>
<h3 id="自定义过滤器"><a href="#自定义过滤器" class="headerlink" title="自定义过滤器"></a>自定义过滤器</h3><p>除了使用内置过滤器，用户也可以在业务代码中定义自定义过滤器供模版使用。</p>
<p>定义一个自定义过滤器</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">View::filter(&apos;my_filter&apos;, function ($content, $tag) &#123;</div><div class="line">	return &quot;&lt;$tag&gt;$content&lt;/$tag&gt;&quot;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>在模版中调用</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;content.my_filter(tag)&#125;&#125;</div></pre></td></tr></table></figure>
<p class="tip">注意自定义过滤器命名不要与内置过滤器冲突，同名内置过滤器调用优先级大于自定义过滤器</p>

<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>数学运算符 <code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>%</code></p>
<p>比较运算符  <code>==</code> <code>===</code> <code>!=</code> <code>!==</code> <code>&gt;</code> <code>&gt;=</code> <code>&lt;</code> <code>&lt;=</code></p>
<p>逻辑运算符  <code>||</code> <code>&amp;&amp;</code> <code>!</code></p>
<p>三元运算符 <code>a ? b : c</code> <code>a ?: b</code> <code>a ?? b</code></p>
<p>赋值 <code>=</code></p>
<p>括号 <code>(a + b) * c</code></p>
<p>数组 <code>[1, 2 ,3]</code> <code>{&quot;a&quot;: 1, &quot;b&quot;: 2, &quot;c&quot;: 3}</code></p>
<h2 id="控制结构"><a href="#控制结构" class="headerlink" title="控制结构"></a>控制结构</h2><p>控制结构以<code>html</code>标签内使用前缀符<code>@</code>开头的属性标识，支持<code>if</code> <code>elseif</code> <code>else</code> <code>each</code> <code>for</code> <code>while</code>等</p>
<h3 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;h1 @if=&quot;title&quot;&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;</div><div class="line">&lt;h1 @elseif=&quot;title2&quot;&gt;&#123;&#123;title2&#125;&#125;&lt;/h1&gt;</div><div class="line">&lt;h1 @else&gt;标题&lt;/h1&gt;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php if ($title) &#123; ?&gt;</div><div class="line">&lt;h1&gt;&lt;?php echo $title; ?&gt;&lt;/h1&gt;</div><div class="line">&lt;?php &#125; elseif ($title2) &#123; ?&gt;</div><div class="line">&lt;h1&gt;&lt;?php echo $title2; ?&gt;&lt;/h1&gt;</div><div class="line">&lt;?php &#125; else &#123; ?&gt;</div><div class="line">&lt;h1&gt;标题&lt;/h1&gt;</div><div class="line">&lt;?php &#125; ?&gt;</div></pre></td></tr></table></figure>
<p class="tip">联合使用<code>if</code> <code>elseif</code> <code>else</code>时，其标签之间不能其它非空内容，否则会出现异常编译失败。</p> 

<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><h4 id="each语句"><a href="#each语句" class="headerlink" title="each语句"></a><code>each</code>语句</h4><p>使用<code>key:val in array</code>的格式遍历数组的键值</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;p @each=&quot;id:user in users&quot; id=&quot;item_&#123;&#123;id&#125;&#125;&quot;&gt;&#123;&#123;user.name&#125;&#125;&lt;/p&gt;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php foreach ($users as $user =&gt; $id) &#123; ?&gt;</div><div class="line">&lt;p id=&quot;item_&lt;?php echo $id; ?&gt;&quot;&gt;&lt;?php echo $user[&apos;name&apos;]; ?&gt;&lt;/p&gt;</div><div class="line">&lt;?php &#125; ?&gt;</div></pre></td></tr></table></figure>
<p>也可以使用忽略键值的语法</p>
<p>忽略键</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">@each=&quot;val in array&quot;</div></pre></td></tr></table></figure>
<p>忽略值</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">@each=&quot;key: in array&quot;</div></pre></td></tr></table></figure>
<p>忽略键值（此情况下默认可以使用<code>key</code>和<code>val</code>来获取键值）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">@each=&quot;array&quot;</div></pre></td></tr></table></figure>
<h4 id="for语句"><a href="#for语句" class="headerlink" title="for语句"></a><code>for</code>语句</h4><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;p @for=&quot;i=0; i&lt;9; i++&quot;&gt;&#123;&#123;i&#125;&#125;&lt;/p&gt;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php for ($i=0; $i&lt;9; $i++) &#123; ?&gt;</div><div class="line">&lt;p&gt;&lt;?php echo $i; ?&gt;&lt;/p&gt;</div><div class="line">&lt;?php &#125; ?&gt;</div></pre></td></tr></table></figure>
<h4 id="while语句"><a href="#while语句" class="headerlink" title="while语句"></a><code>while</code>语句</h4><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;p $i=&quot;9&quot; @while=&quot;i&gt;0&quot; $i=&quot;i-1&quot;&gt;&#123;&#123;i&#125;&#125;&lt;/p&gt;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php $i = 9; ?&gt;</div><div class="line">&lt;?php while ($i &gt; 0) &#123; ?&gt;</div><div class="line">&lt;?php $i = $i - 1; ?&gt;</div><div class="line">&lt;p&gt;&lt;?php echo $i; ?&gt;&lt;/p&gt;</div><div class="line">&lt;?php &#125; ?&gt;</div></pre></td></tr></table></figure>
<h2 id="变量赋值"><a href="#变量赋值" class="headerlink" title="变量赋值"></a>变量赋值</h2><p>模版支持在标签内使用以<code>$</code>开头的属性语法赋值变量</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;p $name=&quot;user.name&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/p&gt;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php $name = $user[&apos;name&apos;]; ?&gt;</div><div class="line">&lt;p&gt;&lt;?php echo $name; ?&gt;&lt;/p&gt;</div></pre></td></tr></table></figure>
<h2 id="双引号字符"><a href="#双引号字符" class="headerlink" title="双引号字符"></a>双引号字符</h2><p>模版支持在标签内以<code>*</code>开头的属性的值使用原生的PHP双引号字符串语法，在字符串中嵌入多个变量时更加便捷。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;a *href=&quot;$a/$b/$c&quot;&gt;&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;a href =&quot;&lt;?php echo &quot;$a/$b/$c&quot;; ?&gt;&quot;&gt;&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>也可以使用插值语法替代</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;a href=&quot;&#123;&#123;a&#125;&#125;/&#123;&#123;b&#125;&#125;/&#123;&#123;c&#125;&#125;&quot;&gt;&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;a href =&quot;&lt;?php echo $a; ?&gt;/&lt;?php echo $b; ?&gt;/&lt;?php echo $c; ?&gt;&quot;&gt;&lt;/a&gt;</div></pre></td></tr></table></figure>
<h2 id="模版引用"><a href="#模版引用" class="headerlink" title="模版引用"></a>模版引用</h2><p>在模版中引用其它模版使用<code>include</code>标签</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;include name=&quot;header&quot; /&gt;</div></pre></td></tr></table></figure>
<p>也可以动态引用模版，<code>:name</code>为动态参数语法，其传递是一个变量，而<code>name</code>传递是一个字符串。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;include :name=&quot;header&quot; /&gt;</div></pre></td></tr></table></figure>
<p>在<code>include</code>标签中也可以使用判断循环语句</p>
<p>循环<code>views</code>并判断模版是否存在，存在则引用模版。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;include @each=&quot;view in views&quot; @if=&quot;view_exists(view)&quot; :name=&quot;view&quot; /&gt;</div></pre></td></tr></table></figure>
<p class="tip"><code>include</code>标签最终会被编译成PHP原生<code>include</code>语句来引用加载其它模版，所以在编译当前模版时是不读取引用模版内容的，也不会合并到当前模版一起编译。</p>

<p class="tip">除了<code>include</code>标签，下面的<code>insert</code>和<code>extends</code>标签不支持动态调用，因为它们是先合并后再编译。</p>

<h2 id="模版插入"><a href="#模版插入" class="headerlink" title="模版插入"></a>模版插入</h2><p>使用模版插入<code>insert</code>标签可以将要插入的模版读取合并到当前模版，然后再编译。</p>
<p>当前模版</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;insert name=&quot;title&quot; /&gt;</div><div class="line">&lt;p&gt;&#123;&#123;content&#125;&#125;&lt;/p&gt;</div></pre></td></tr></table></figure>
<p>要插入的模版<code>title</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;</div></pre></td></tr></table></figure>
<p>合并为</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;</div><div class="line">&lt;p&gt;&#123;&#123;content&#125;&#125;&lt;/p&gt;</div></pre></td></tr></table></figure>
<p class="tip"><code>insert</code>标签类似于而又不同于<code>include</code>标签，前者会合并后编译，后者会分别独立编译。</p>

<h3 id="插槽slot"><a href="#插槽slot" class="headerlink" title="插槽slot"></a>插槽<code>slot</code></h3><p>使用<code>slot</code>可以将内容注入到要插入模版内，如</p>
<p>当前模版</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;insert name=&quot;title&quot;&gt;title&lt;/insert&gt;</div></pre></td></tr></table></figure>
<p>要插入的模版<code>title</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;h1&gt;&lt;slot/&gt;: &#123;&#123;title&#125;&#125;&lt;/h1&gt;</div></pre></td></tr></table></figure>
<p>合并为</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;h1&gt;title: &#123;&#123;title&#125;&#125;&lt;/h1&gt;</div></pre></td></tr></table></figure>
<h4 id="slot默认值"><a href="#slot默认值" class="headerlink" title="slot默认值"></a><code>slot</code>默认值</h4><p>可以使用<code>slot</code>标签<code>text</code>设置默认值，如果被插入模版<code>insert</code>标签没有定义<code>text</code>则使用默认值，有则覆盖默认值。如</p>
<p>当前模版</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;insert name=&quot;title&quot;/&gt;</div></pre></td></tr></table></figure>
<p>要插入的模版<code>title</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;h1&gt;&lt;slot&gt;title&lt;/slot&gt;: &#123;&#123;title&#125;&#125;&lt;/h1&gt;</div></pre></td></tr></table></figure>
<p>合并为</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;h1&gt;title: &#123;&#123;title&#125;&#125;&lt;/h1&gt;</div></pre></td></tr></table></figure>
<h4 id="多个slot"><a href="#多个slot" class="headerlink" title="多个slot"></a>多个<code>slot</code></h4><p>一个<code>insert</code>内可以指定多个<code>slot</code>，多个<code>slot</code>使用<code>slot</code>标签包含。</p>
<p>当前模版</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;insert name=&quot;title&quot;&gt;</div><div class="line">	&lt;slot name=&quot;slot1&quot;&gt;title1&lt;/slot&gt;</div><div class="line">	&lt;slot name=&quot;slot2&quot;&gt;title2&lt;/slot&gt;</div><div class="line">&lt;/insert&gt;</div></pre></td></tr></table></figure>
<p>要插入的模版<code>title</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;h1&gt;&lt;slot name=&quot;slot1&quot;/&gt;: &#123;&#123;title1&#125;&#125;&lt;/h1&gt;</div><div class="line">&lt;h1&gt;&lt;slot name=&quot;slot2&quot;/&gt;: &#123;&#123;title2&#125;&#125;&lt;/h1&gt;</div></pre></td></tr></table></figure>
<p>合并为</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;h1&gt;title1: &#123;&#123;title1&#125;&#125;&lt;/h1&gt;</div><div class="line">&lt;h1&gt;title2: &#123;&#123;title2&#125;&#125;&lt;/h1&gt;</div></pre></td></tr></table></figure>
<h3 id="插入块block"><a href="#插入块block" class="headerlink" title="插入块block"></a>插入块<code>block</code></h3><p><code>insert</code>不仅支持插入整个模版文件内容，也支持插入其中的一个模版块<code>block</code>，语法为使用<code>.</code>连接模版名与<code>block</code>名。</p>
<p>当前模版</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;insert name=&quot;title.title1&quot;/&gt;</div><div class="line">&lt;insert name=&quot;title.title2&quot;&gt;title2&lt;/insert&gt;</div></pre></td></tr></table></figure>
<p>要插入的模版<code>title</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;block name=&quot;title1&quot;&gt;&lt;h1&gt;&#123;&#123;title1&#125;&#125;&lt;/h1&gt;&lt;/block&gt;</div><div class="line">&lt;block name=&quot;title1&quot;&gt;&lt;h1&gt;&lt;slot/&gt;: &#123;&#123;title1&#125;&#125;&lt;/h1&gt;&lt;/block&gt;</div></pre></td></tr></table></figure>
<p>合并为</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;h1&gt;&#123;&#123;title1&#125;&#125;&lt;/h1&gt;</div><div class="line">&lt;h1&gt;title2: &#123;&#123;title2&#125;&#125;&lt;/h1&gt;</div></pre></td></tr></table></figure>
<h2 id="模版继承"><a href="#模版继承" class="headerlink" title="模版继承"></a>模版继承</h2><p>使用模版继承<code>extends</code>标签可以将当前模版<code>block</code>合并到其继承的父模版中。</p>
<p>当前模版</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;extends name=&quot;layout&quot; /&gt;</div><div class="line"></div><div class="line">&lt;block name=&quot;title&quot;&gt;&#123;&#123;title&#125;&#125;&lt;/block&gt;</div><div class="line"></div><div class="line">&lt;block name=&quot;content&quot;&gt;&lt;parent/&gt;  &#123;&#123;content&#125;&#125;&lt;/block&gt;</div></pre></td></tr></table></figure>
<p>父模版<code>layout</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;title&gt;</div><div class="line">    &lt;block name=&quot;title&quot;&gt; 标题 &lt;/block&gt;</div><div class="line">&lt;/title&gt;</div><div class="line">&lt;include name=&quot;header&quot; /&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;block name=&quot;menu&quot;&gt; 菜单 &lt;/block&gt;</div><div class="line">    &lt;block name=&quot;content&quot;&gt; 正文 &lt;/block&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;include name=&quot;footer&quot; /&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>合并为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;title&gt;</div><div class="line">    &#123;&#123;title&#125;&#125;</div><div class="line">&lt;/title&gt;</div><div class="line">&lt;include name=&quot;header&quot; /&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    菜单</div><div class="line">    正文 &#123;&#123;content&#125;&#125;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;include name=&quot;footer&quot; /&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>子模版中定义的<code>block</code>替换父模版中同名的<code>block</code>，子模版中未定义的<code>block</code>默认使用父模版中的<code>block</code>。</p>
<blockquote>
<p>子模版<code>block</code>中使用<code>&lt;parent/&gt;</code>标签可把父模版同名<code>block</code>的内容插入到其中。</p>
</blockquote>
<h3 id="多重继承"><a href="#多重继承" class="headerlink" title="多重继承"></a>多重继承</h3><p>模版支持多重继承，如<code>a</code>继承<code>b</code>，<code>b</code>继承<code>c</code>，<code>c</code>继承<code>d</code>，<code>a b c</code>3个模版会合并<code>block</code>，同名<code>block</code>覆盖，优先级为<code>a &gt; b &gt; c</code>。</p>
<p><code>d</code>为基础<code>layout</code>父模版，<code>a b c</code>合并的<code>block</code>与<code>d</code>合并成最终模版。</p>
<p>模版<code>a</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;extends name=&quot;b&quot; /&gt;</div><div class="line"></div><div class="line">&lt;block name=&quot;a&quot;&gt;&#123;&#123;a&#125;&#125;&lt;/block&gt;</div></pre></td></tr></table></figure>
<p>模版<code>b</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;extends name=&quot;c&quot; /&gt;</div><div class="line"></div><div class="line">&lt;block name=&quot;b&quot;&gt;&#123;&#123;b&#125;&#125;&lt;/block&gt;</div></pre></td></tr></table></figure>
<p>模版<code>c</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;extends name=&quot;d&quot; /&gt;</div><div class="line"></div><div class="line">&lt;block name=&quot;c&quot;&gt;&#123;&#123;c&#125;&#125;&lt;/block&gt;</div></pre></td></tr></table></figure>
<p>模版<code>d</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;block name=&quot;a&quot;/&gt;</div><div class="line">&lt;block name=&quot;b&quot;/&gt;</div><div class="line">&lt;block name=&quot;c&quot;/&gt;</div></pre></td></tr></table></figure>
<p>合并为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;a&#125;&#125;</div><div class="line">&#123;&#123;b&#125;&#125;</div><div class="line">&#123;&#123;c&#125;&#125;</div></pre></td></tr></table></figure>
<p class="tip">多重继承不能大于9层，防止相互继承死循环。</p>

<h3 id="插入与继承"><a href="#插入与继承" class="headerlink" title="插入与继承"></a>插入与继承</h3><p>模版插入<code>insert</code>可以与模版继承<code>extends</code>联合使用，使用<code>insert</code>在当前模版插入<code>block</code>。</p>
<p>当前模版</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;extends name=&quot;layout&quot; /&gt;</div><div class="line"></div><div class="line">&lt;block name=&quot;a&quot;&gt;&#123;&#123;a&#125;&#125;&lt;/block&gt;</div><div class="line"></div><div class="line">&lt;insert name=&quot;other&quot;/&gt;</div></pre></td></tr></table></figure>
<p>模版<code>other</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;block name=&quot;b&quot;&gt;&#123;&#123;b&#125;&#125;&lt;/block&gt;</div><div class="line">&lt;block name=&quot;c&quot;&gt;&#123;&#123;c&#125;&#125;&lt;/block&gt;</div></pre></td></tr></table></figure>
<p>模版<code>layout</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;block name=&quot;a&quot;/&gt;</div><div class="line">&lt;block name=&quot;b&quot;/&gt;</div><div class="line">&lt;block name=&quot;c&quot;/&gt;</div></pre></td></tr></table></figure>
<p>合并为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&#123;&#123;a&#125;&#125;</div><div class="line">&#123;&#123;b&#125;&#125;</div><div class="line">&#123;&#123;c&#125;&#125;</div></pre></td></tr></table></figure>
<p class="tip"><code>extends</code>继承标签和<code>insert</code>插入标签同时使用时，<code>insert</code>标签先于<code>extends</code>标签合并编译。</p><br><p class="tip">联合使用时<code>insert</code>不能指定插入单个<code>block</code>，因为<code>block</code>不允许嵌套使用。</p>

<h2 id="空标签"><a href="#空标签" class="headerlink" title="空标签"></a>空标签</h2><p>有些情况下，模版语法不需要嵌入到实体<code>html</code>标签中时，可使用空标签<code>tag</code>，编译后空标签会被去除只保留逻辑部分。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;tag @each=&quot;user in users&quot;&gt;&#123;&#123;user.name&#125;&#125;&lt;/tag&gt;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php foreach ($users as $user) &#123; ?&gt;</div><div class="line">&lt;?php echo $user[&apos;name&apos;]; ?&gt;</div><div class="line">&lt;?php &#125; ?&gt;</div></pre></td></tr></table></figure>
<h2 id="原样输出-1"><a href="#原样输出-1" class="headerlink" title="原样输出"></a>原样输出</h2><p>使用<code>raw</code>标签可以防止模板标签被解析，其包含内容会被原样输出。</p>
<p>通常在同时使用前后端模版时，可使用此标签防止前端模板被解析。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;raw&gt;</div><div class="line">    &#123;&#123;name&#125;&#125;</div><div class="line">&lt;/raw&gt;</div></pre></td></tr></table></figure>
<h2 id="Heredoc"><a href="#Heredoc" class="headerlink" title="Heredoc"></a>Heredoc</h2><p>使用<code>heredoc</code>标签可以调用<code>php</code>原生<code>heredoc</code>语法，在输出大段包含变量的文本时更加便捷，也可以设置配置<code>heredoc_tag =&gt; false</code>禁止<code>heredoc</code>标签使用。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;heredoc&gt;</div><div class="line">My name is &quot;$name&quot;. I am printing some $foo-&gt;foo.</div><div class="line">Now, I am printing some &#123;$foo-&gt;bar[1]&#125;.</div><div class="line">&lt;/heredoc&gt;</div></pre></td></tr></table></figure>
<p>编译后：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;?php print &lt;&lt;&lt;EOT</div><div class="line">My name is &quot;$name&quot;. I am printing some $foo-&gt;foo.</div><div class="line">Now, I am printing some &#123;$foo-&gt;bar[1]&#125;.</div><div class="line">EOT; ?&gt;</div></pre></td></tr></table></figure>
<p class="tip"><code>heredoc</code>标签中无法使用模版语法。</p>


<h2 id="原生PHP"><a href="#原生PHP" class="headerlink" title="原生PHP"></a>原生PHP</h2><p>在需要使用原生PHP代码时可以<code>php</code>标签来包裹PHP代码，但是一般不建议这么做，可以设置配置<code>php_tag =&gt; false</code>禁止<code>php</code>标签使用。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;php&gt;</div><div class="line">    $name = &apos;your name&apos;;</div><div class="line">&lt;/php&gt;</div></pre></td></tr></table></figure>
<p class="tip">模版中是不允许存在<code>&lt;?php ?&gt;</code>这类原生PHP语法的，<code>php</code>标签中也无法使用模版语法。</p>


<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// 空标签</div><div class="line">&apos;blank_tag&apos;             =&gt; &apos;tag&apos;,</div><div class="line">// 原生标签</div><div class="line">&apos;raw_tag&apos;               =&gt; &apos;raw&apos;,</div><div class="line">// php标签</div><div class="line">&apos;php_tag&apos;               =&gt; &apos;php&apos;,</div><div class="line">// heredoc标签</div><div class="line">&apos;heredoc_tag&apos;           =&gt; &apos;heredoc&apos;,</div><div class="line">// 块标签</div><div class="line">&apos;block_tag&apos;             =&gt; &apos;block&apos;,</div><div class="line">// 组件标签</div><div class="line">&apos;component_tag&apos;         =&gt; &apos;component&apos;,</div><div class="line">// 插入标签</div><div class="line">&apos;insert_tag&apos;            =&gt; &apos;insert&apos;,</div><div class="line">// 引用标签</div><div class="line">&apos;include_tag&apos;           =&gt; &apos;include&apos;,</div><div class="line">// 继承标签</div><div class="line">&apos;extends_tag&apos;           =&gt; &apos;extends&apos;,</div><div class="line">// 结构语句前缀符</div><div class="line">&apos;struct_attr_prefix&apos;    =&gt; &apos;@&apos;,</div><div class="line">// 赋值语句前缀符</div><div class="line">&apos;assign_attr_prefix&apos;    =&gt; &apos;$&apos;,</div><div class="line">// </div><div class="line">&apos;double_attr_prefix&apos;    =&gt; &apos;*&apos;,</div><div class="line">// 参数语句前缀符</div><div class="line">&apos;argument_attr_prefix&apos;  =&gt; &apos;:&apos;,</div><div class="line">// 文本插入左右边界符号</div><div class="line">&apos;text_delimiter_sign&apos;   =&gt; [&apos;&#123;&#123;&apos;, &apos;&#125;&#125;&apos;],</div><div class="line">// 文本插入是否自动转义</div><div class="line">&apos;auto_escape_text&apos;      =&gt; true,</div><div class="line">// 文本转义符号与反转义符号</div><div class="line">&apos;text_escape_sign&apos;      =&gt; [&apos;:&apos;, &apos;!&apos;],</div><div class="line">// 注释符号</div><div class="line">&apos;note_text_sign&apos;        =&gt; &apos;#&apos;,</div><div class="line">// 原样输出标识符（不解析文本插入边界符以其内内容）</div><div class="line">&apos;raw_text_sign&apos;         =&gt; &apos;!&apos;,</div><div class="line">// 是否支持PHP函数</div><div class="line">&apos;allow_php_functions&apos;   =&gt; false,</div><div class="line">// 静态类公共名称空间</div><div class="line">&apos;view_class_namespace&apos;  =&gt; null,</div><div class="line">// 模版读取器</div><div class="line">&apos;view_template_reader&apos;  =&gt; View::class.&apos;::readTemplate&apos;,</div><div class="line">// filter宏</div><div class="line">&apos;view_filter_macro&apos;     =&gt; View::class.&apos;::filterMacro&apos;,</div><div class="line">// include宏</div><div class="line">&apos;view_include_macro&apos;    =&gt; View::class.&apos;::includeMacro&apos;,</div><div class="line">// container宏</div><div class="line">&apos;view_container_macro&apos;  =&gt; View::class.&apos;::ContainerMacro&apos;,</div><div class="line">// check expired宏</div><div class="line">&apos;view_check_expired_macro&apos;  =&gt; View::class.&apos;::checkExpiredMacro&apos;,</div></pre></td></tr></table></figure>
<h3 id="过滤器-1"><a href="#过滤器-1" class="headerlink" title="过滤器"></a>过滤器</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line">// 是否不为空</div><div class="line">&apos;has&apos;           =&gt; &apos;!empty($0)&apos;,</div><div class="line">// 是否为空</div><div class="line">&apos;empty&apos;         =&gt; &apos;empty($0)&apos;,</div><div class="line">// 是否存在</div><div class="line">&apos;isset&apos;         =&gt; &apos;isset($0)&apos;,</div><div class="line">// 默认值</div><div class="line">&apos;default&apos;       =&gt; &apos;($0 ?? $1)&apos;,</div><div class="line">// 转为字符串</div><div class="line">&apos;str&apos;           =&gt; &apos;strval($0)&apos;,</div><div class="line">// 字符串拼接</div><div class="line">&apos;concat&apos;        =&gt; &apos;($0.$1)&apos;,</div><div class="line">// 字符串拼接</div><div class="line">&apos;format&apos;        =&gt; &apos;sprintf($0, $1, ...)&apos;,</div><div class="line">// 字符串补全填充</div><div class="line">&apos;pad&apos;           =&gt; &apos;str_pad($0, $1, ...)&apos;,</div><div class="line">// 字符串替换</div><div class="line">&apos;replace&apos;       =&gt; &apos;str_replace($1, $2, $0)&apos;,</div><div class="line">// 字符串中字符位置</div><div class="line">&apos;index&apos;         =&gt; &apos;strpos($1, $0)&apos;,</div><div class="line">// 字符串截取</div><div class="line">&apos;substr&apos;        =&gt; &apos;substr($0, $1, $2)&apos;,</div><div class="line">// 字符串截取</div><div class="line">&apos;slice&apos;         =&gt; &apos;substr($0, $1 &gt; 0 ? $1 - $0 : $1)&apos;,</div><div class="line">// 字符串重复</div><div class="line">&apos;repeat&apos;        =&gt; &apos;str_repeat($0, $1)&apos;,</div><div class="line">// 字符串长度</div><div class="line">&apos;length&apos;        =&gt; &apos;strlen($0)&apos;,</div><div class="line">// 字符串大写</div><div class="line">&apos;lower&apos;         =&gt; &apos;strtolower($0)&apos;,</div><div class="line">// 字符串小写</div><div class="line">&apos;upper&apos;         =&gt; &apos;strtoupper($0)&apos;,</div><div class="line">// 字符串首字母大写</div><div class="line">&apos;ucfirst&apos;       =&gt; &apos;ucfirst($0)&apos;,</div><div class="line">// 每个单词的首字母大写</div><div class="line">&apos;capitalize&apos;    =&gt; &apos;ucwords($0)&apos;,</div><div class="line">// 字符串剔除两端空白</div><div class="line">&apos;trim&apos;          =&gt; &apos;trim($0, ...)&apos;,</div><div class="line">// 文本换行符转换成HTML换行符</div><div class="line">&apos;nl2br&apos;         =&gt; &apos;nl2br($0)&apos;,</div><div class="line">// 字符串md5值</div><div class="line">&apos;md5&apos;           =&gt; &apos;md5($0)&apos;,</div><div class="line">// 字符串hash值</div><div class="line">&apos;hash&apos;          =&gt; &apos;hash($1, $0)&apos;,</div><div class="line">// 正则匹配</div><div class="line">&apos;match&apos;         =&gt; &apos;preg_match($1, $0, ...)&apos;,</div><div class="line">// 字符串HTML转义</div><div class="line">&apos;escape&apos;        =&gt; &apos;htmlentities($0)&apos;,</div><div class="line">// 字符串HTML反转义</div><div class="line">&apos;unescape&apos;      =&gt; &apos;html_entity_decode($0)&apos;,</div><div class="line">// 字符串URL转义</div><div class="line">&apos;urlencode&apos;     =&gt; &apos;urlencode($0)&apos;,</div><div class="line">// 字符串URL反转义</div><div class="line">&apos;urldecode&apos;     =&gt; &apos;urldecode($0)&apos;,</div><div class="line">// 数组转为JSON</div><div class="line">&apos;jsonencode&apos;    =&gt; &apos;json_encode($0, true)&apos;,</div><div class="line">// JSON转为数组</div><div class="line">&apos;jsondenode&apos;    =&gt; &apos;json_denode($0, JSON_UNESCAPED_UNICODE)&apos;,</div><div class="line">// 元素是否存在于数组作用</div><div class="line">&apos;in&apos;            =&gt; &apos;in_array($0, $1, true)&apos;,</div><div class="line">// 数组长度</div><div class="line">&apos;count&apos;         =&gt; &apos;count($0)&apos;,</div><div class="line">// 创建范围数组</div><div class="line">&apos;range&apos;         =&gt; &apos;range($0, $1)&apos;,</div><div class="line">// 字符串分割为数组</div><div class="line">&apos;split&apos;         =&gt; &apos;explode($1, $0)&apos;,</div><div class="line">// 数组连接成字符串</div><div class="line">&apos;join&apos;          =&gt; &apos;implode($1, $0)&apos;,</div><div class="line">// 获取数组keys</div><div class="line">&apos;keys&apos;          =&gt; &apos;array_keys($0)&apos;,</div><div class="line">// 获取数组values</div><div class="line">&apos;values&apos;        =&gt; &apos;array_values($0)&apos;,</div><div class="line">// 合并数组</div><div class="line">&apos;merge&apos;         =&gt; &apos;array_merge($0, $1)&apos;,</div><div class="line">// 最大值</div><div class="line">&apos;max&apos;           =&gt; &apos;max($0, ...)&apos;,</div><div class="line">// 最小值</div><div class="line">&apos;min&apos;           =&gt; &apos;min($0, ...)&apos;,</div><div class="line">// 转为数字</div><div class="line">&apos;num&apos;           =&gt; &apos;($0+0)&apos;,</div><div class="line">// 数字绝对值</div><div class="line">&apos;abs&apos;           =&gt; &apos;abs($0)&apos;,</div><div class="line">// 数字向上取整</div><div class="line">&apos;ceil&apos;          =&gt; &apos;ceil($0)&apos;,</div><div class="line">// 数字向下取整</div><div class="line">&apos;floor&apos;         =&gt; &apos;floor($0)&apos;,</div><div class="line">// 数字四舍五入</div><div class="line">&apos;round&apos;         =&gt; &apos;round($0, ...)&apos;,</div><div class="line">// 数字随机值</div><div class="line">&apos;rand&apos;          =&gt; &apos;rand($0, $1)&apos;,</div><div class="line">// 数字格式化</div><div class="line">&apos;number_format&apos; =&gt; &apos;number_format($0)&apos;,</div><div class="line">// 时间戳</div><div class="line">&apos;time&apos;          =&gt; &apos;time()&apos;,</div><div class="line">// 转为时间戳</div><div class="line">&apos;totime&apos;        =&gt; &apos;strtotime($0)&apos;,</div><div class="line">// 时间格式化</div><div class="line">&apos;date&apos;          =&gt; &apos;date($0, $1)&apos;,</div><div class="line">// 视图文件是否存在</div><div class="line">&apos;view_exists&apos;   =&gt; View::class.&apos;::exists($0)&apos;,</div></pre></td></tr></table></figure>

  
    <div class="guide-links">
      
        <span>← <a href="/doc/view.html">视图</a></span>
      
      
        <span style="float: right;"><a href="/doc/function.html">辅助函数</a> →</span>
      
    </div>
  
  <div class="footer">
  </div>
</div>

        
      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- fastclick -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      FastClick.attach(document.body)
    }, false)
    </script>
  </body>
</html>
